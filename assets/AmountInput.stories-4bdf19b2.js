var V,h,v;import{f as _}from"./index-57b8f5cf.js";import{d as b,e as A,w as N,o as S,f as F,u as c,E}from"./vue.esm-bundler-26e88939.js";import{E as j}from"./index-f576d4fc.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-d7578b05.js";import"./event-f800872e.js";import"./use-form-item-1ca7c638.js";import"./icon-6eab7272.js";const f=b({__name:"AmountInput",props:{modelValue:{type:String,default:""},precision:{type:Number,default:2},unit:{type:Boolean,default:!0},maxlength:{type:Number||String,default:10},placeholder:{type:String,default:"\u8BF7\u8F93\u5165\u91D1\u989D"}},emits:["updateModelValue"],setup(s,{emit:y}){const I=(l,a,e)=>{l==""&&(l="0"),a=a>0&&a<=20?a:2,l=parseFloat((l+"").replace(/[^\d\.-]/g,"")).toFixed(a)+"";let o=l.split(".")[0].split("").reverse(),d=l.split(".")[1],i="";for(let n=0;n<o.length;n++)i+=o[n]+((n+1)%3==0&&n+1!=o.length?",":"");return e?i.split("").reverse().join("")+"."+d+"\u5143":i.split("").reverse().join("")+"."+d},u=s,x=y;let t=A(u.modelValue+""),p="temp";const M=function(){t.value=p,p="temp"},m=function(){p=t.value,t.value=I(t.value,u.precision,u.unit)};return m(),N(t,(l,a)=>{if(p!=="temp")return;let e=(l+"").replace("\u3002",".").replace(/[^0-9.]/g,""),o=a+"";e.startsWith(".")&&(e="0."+e.slice(1)),e.startsWith("0")&&e.length>1&&!e.slice(1).startsWith(".")&&(e=e.slice(1)),(e.split(".").length>2||e.split(".").length==2&&e.split(".")[1].length>u.precision||e.length>Number(u.maxlength))&&(e=o),t.value=e,x("updateModelValue",e)}),(l,a)=>(S(),F(c(j),{class:"amountInput",modelValue:c(t),"onUpdate:modelValue":a[0]||(a[0]=e=>E(t)?t.value=e:t=e),onBlur:m,onFocus:M,placeholder:s.placeholder},null,8,["modelValue","placeholder"]))}}),g=B(f,[["__scopeId","data-v-db0e84f0"]]);f.__docgenInfo={exportName:"default",displayName:"AmountInput",description:"",tags:{},props:[{name:"modelValue",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"precision",type:{name:"number"},defaultValue:{func:!1,value:"2"}},{name:"unit",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"maxlength",type:{name:"Number||String"},defaultValue:{func:!1,value:"10"}},{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"'\u8BF7\u8F93\u5165\u91D1\u989D'"}}],events:[{name:"updateModelValue"}],sourceFiles:["/Users/fangfei/Desktop/\u6C5F\u94C3\u4EE3\u7801/vue3/jmc-ele-component-vue3/src/common/AmountInput/AmountInput.vue"]};const W={title:"Example/AmountInput",component:g,render:s=>({components:{AmountInput:g},setup(){return{args:s}},template:'<AmountInput :modelValue="args.modelValue" :precision="args.precision" :unit="args.unit" :placeholder="args.placeholder"  @updateModelValue="args.updateModelValue"/>'}),tags:["autodocs"],argTypes:{modelValue:{description:"\u9ED8\u8BA4\u6570\u503C"},precision:{description:"\u5177\u4F53\u4FDD\u5B58\u7684\u5C0F\u6570\u70B9\u7684\u4F4D\u6570"},unit:{description:"ture\u8868\u793A\u662F\u91D1\u989D\uFF0Cfalse\u8868\u793A\u6570\u5B57\u5343\u5206\u5316"},placeholder:{description:"\u8F93\u5165\u6846\u9ED8\u8BA4\u7684\u63D0\u793A\u8BED",defaultValue:{summary:"\u8BF7\u8F93\u5165"}},maxlength:{description:"\u5C0F\u6570\u70B9\u7684\u6700\u5927\u4F4D\u6570",defaultValue:{summary:10}},updateModelValue:{description:"\u786E\u8BA4\u6309\u94AE\u70B9\u51FB\u4E8B\u4EF6",table:{type:{summary:"function"},defaultValue:{summary:"function"}},action:"updateModelValue"}},args:{placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u91D1\u989D",modelValue:"123",unit:!0,precision:2,updateModelValue:_()}},r={args:{placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u91D1\u989D",modelValue:"123",unit:!0,precision:2}};r.parameters={...r.parameters,docs:{...(V=r.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    placeholder: '\u8BF7\u8F93\u5165\u60A8\u7684\u91D1\u989D',
    modelValue: '123',
    unit: true,
    precision: 2
    // updateModelValue : (val: string)=> {
    // 	console.log('val',val)
    // }
  }
}`,...(v=(h=r.parameters)==null?void 0:h.docs)==null?void 0:v.source}}};const O=["amountinput"];export{O as __namedExportsOrder,r as amountinput,W as default};
