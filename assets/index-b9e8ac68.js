import{d as oe,b as f,o as g,p as V,q as k,l as U,B as b,u as I,f as P,g as O,k as J,C as _,n as z,D as X,X as it,V as Ve,Y as Pe,w as F,I as rt,r as Be,Z as ut,_ as Wt,N as B,Q as me,R as pt,A as Y,e as D,O as ct,M as gt,$ as ne,a0 as ge,a1 as dt,T as bt,J as yt,G as Ct,j as Z,a2 as Ft,F as ze,t as vt,a3 as H,a4 as Ht,s as $t,H as St}from"./vue.esm-bundler-26e88939.js";import{u as Ot,d as Kt,U as ee,C as xt}from"./event-f800872e.js";import{g as $,u as ht,i as Lt,d as Tt,E as _t,a as Rt,b as Qt,C as Nt,c as jt,e as Gt}from"./index-34d634be.js";import{i as Ut,E as Jt}from"./index-f576d4fc.js";import{i as wt,z as Xt,A as It,h as Yt,q as kt,u as se,B as Mt,E as ft,_ as be,w as Et,o as Zt,k as el,a as tl,C as ll,g as ol,y as Vt}from"./use-form-item-1ca7c638.js";import{u as nl}from"./index-f6f28c08.js";import{i as Pt}from"./icon-6eab7272.js";const sl=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function al(e,t){if(!wt)return;if(!t){e.scrollTop=0;return}const s=[];let d=t.offsetParent;for(;d!==null&&e!==d&&e.contains(d);)s.push(d),d=d.offsetParent;const p=t.offsetTop+s.reduce((r,C)=>r+C.offsetTop,0),c=p+t.offsetHeight,i=e.scrollTop,v=i+e.clientHeight;p<i?e.scrollTop=p:c>v&&(e.scrollTop=c-e.clientHeight)}const il=e=>Xt[e||"default"],rl=e=>["",...It].includes(e),ul=e=>({focus:()=>{var t,s;(s=(t=e.value)==null?void 0:t.focus)==null||s.call(t)}}),Bt=Yt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:It,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),pl={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},cl=oe({name:"ElTag"}),dl=oe({...cl,props:Bt,emits:pl,setup(e,{emit:t}){const s=e,d=kt(),p=se("tag"),c=f(()=>{const{type:r,hit:C,effect:h,closable:y,round:x}=s;return[p.b(),p.is("closable",y),p.m(r),p.m(d.value),p.m(h),p.is("hit",C),p.is("round",x)]}),i=r=>{t("close",r)},v=r=>{t("click",r)};return(r,C)=>r.disableTransitions?(g(),V("span",{key:0,class:b(I(c)),style:X({backgroundColor:r.color}),onClick:v},[k("span",{class:b(I(p).e("content"))},[U(r.$slots,"default")],2),r.closable?(g(),P(I(ft),{key:0,class:b(I(p).e("close")),onClick:_(i,["stop"])},{default:O(()=>[J(I(Mt))]),_:1},8,["class","onClick"])):z("v-if",!0)],6)):(g(),P(it,{key:1,name:`${I(p).namespace.value}-zoom-in-center`,appear:""},{default:O(()=>[k("span",{class:b(I(c)),style:X({backgroundColor:r.color}),onClick:v},[k("span",{class:b(I(p).e("content"))},[U(r.$slots,"default")],2),r.closable?(g(),P(I(ft),{key:0,class:b(I(p).e("close")),onClick:_(i,["stop"])},{default:O(()=>[J(I(Mt))]),_:1},8,["class","onClick"])):z("v-if",!0)],6)]),_:3},8,["name"]))}});var vl=be(dl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const hl=Et(vl),zt=Symbol("ElSelectGroup"),Ae=Symbol("ElSelect");function fl(e,t){const s=Ve(Ae),d=Ve(zt,{disabled:!1}),p=f(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),c=f(()=>s.props.multiple?y(s.props.modelValue,e.value):x(e.value,s.props.modelValue)),i=f(()=>{if(s.props.multiple){const n=s.props.modelValue||[];return!c.value&&n.length>=s.props.multipleLimit&&s.props.multipleLimit>0}else return!1}),v=f(()=>e.label||(p.value?"":e.value)),r=f(()=>e.value||e.label||""),C=f(()=>e.disabled||t.groupDisabled||i.value),h=rt(),y=(n=[],m)=>{if(p.value){const S=s.props.valueKey;return n&&n.some(W=>Pe($(W,S))===$(m,S))}else return n&&n.includes(m)},x=(n,m)=>{if(p.value){const{valueKey:S}=s.props;return $(n,S)===$(m,S)}else return n===m},T=()=>{!e.disabled&&!d.disabled&&(s.hoverIndex=s.optionsArray.indexOf(h.proxy))};F(()=>v.value,()=>{!e.created&&!s.props.remote&&s.setSelected()}),F(()=>e.value,(n,m)=>{const{remote:S,valueKey:W}=s.props;if(Object.is(n,m)||(s.onOptionDestroy(m,h.proxy),s.onOptionCreate(h.proxy)),!e.created&&!S){if(W&&typeof n=="object"&&typeof m=="object"&&n[W]===m[W])return;s.setSelected()}}),F(()=>d.disabled,()=>{t.groupDisabled=d.disabled},{immediate:!0});const{queryChange:M}=Pe(s);return F(M,n=>{const{query:m}=I(n),S=new RegExp(sl(m),"i");t.visible=S.test(v.value)||e.created,t.visible||s.filteredOptionsCount--},{immediate:!0}),{select:s,currentLabel:v,currentValue:r,itemSelected:c,isDisabled:C,hoverItem:T}}const ml=oe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=se("select"),s=Be({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:d,itemSelected:p,isDisabled:c,select:i,hoverItem:v}=fl(e,s),{visible:r,hover:C}=ut(s),h=rt().proxy;i.onOptionCreate(h),Wt(()=>{const x=h.value,{selected:T}=i,M=(i.props.multiple?T:[T]).some(n=>n.value===h.value);B(()=>{i.cachedOptions.get(x)===h&&!M&&i.cachedOptions.delete(x)}),i.onOptionDestroy(x,h)});function y(){e.disabled!==!0&&s.groupDisabled!==!0&&i.handleOptionSelect(h,!0)}return{ns:t,currentLabel:d,itemSelected:p,isDisabled:c,select:i,hoverItem:v,visible:r,hover:C,selectOptionClick:y,states:s}}});function gl(e,t,s,d,p,c){return me((g(),V("li",{class:b([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=_((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[U(e.$slots,"default",{},()=>[k("span",null,Y(e.currentLabel),1)])],34)),[[pt,e.visible]])}var mt=be(ml,[["render",gl],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const bl=oe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ve(Ae),t=se("select"),s=f(()=>e.props.popperClass),d=f(()=>e.props.multiple),p=f(()=>e.props.fitInputWidth),c=D("");function i(){var v;c.value=`${(v=e.selectWrapper)==null?void 0:v.offsetWidth}px`}return ct(()=>{i(),Ot(e.selectWrapper,i)}),{ns:t,minWidth:c,popperClass:s,isMultiple:d,isFitInputWidth:p}}});function yl(e,t,s,d,p,c){return g(),V("div",{class:b([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:X({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[U(e.$slots,"default")],6)}var Cl=be(bl,[["render",yl],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Sl(e){const{t}=ht();return Be({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const Ol=(e,t,s)=>{const{t:d}=ht(),p=se("select");nl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},f(()=>e.suffixTransition===!1));const c=D(null),i=D(null),v=D(null),r=D(null),C=D(null),h=D(null),y=D(null),x=D(-1),T=gt({query:""}),M=gt(""),n=D([]);let m=0;const{form:S,formItem:W}=Zt(),ye=f(()=>!e.filterable||e.multiple||!t.visible),N=f(()=>e.disabled||(S==null?void 0:S.disabled)),qe=f(()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!N.value&&t.inputHovering&&l}),Ce=f(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),De=f(()=>p.is("reverse",Ce.value&&t.visible&&e.suffixTransition)),Se=f(()=>e.remote?300:0),pe=f(()=>e.loading?e.loadingText||d("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||d("el.select.noMatch"):t.options.size===0?e.noDataText||d("el.select.noData"):null),E=f(()=>{const l=Array.from(t.options.values()),o=[];return n.value.forEach(a=>{const u=l.findIndex(L=>L.currentLabel===a);u>-1&&o.push(l[u])}),o.length?o:l}),We=f(()=>Array.from(t.cachedOptions.values())),Fe=f(()=>{const l=E.value.filter(o=>!o.created).some(o=>o.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!l}),ae=kt(),He=f(()=>["small"].includes(ae.value)?"small":"default"),$e=f({get(){return t.visible&&pe.value!==!1},set(l){t.visible=l}});F([()=>N.value,()=>ae.value,()=>S==null?void 0:S.size],()=>{B(()=>{K()})}),F(()=>e.placeholder,l=>{t.cachedPlaceHolder=t.currentPlaceholder=l}),F(()=>e.modelValue,(l,o)=>{e.multiple&&(K(),l&&l.length>0||i.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",j(t.query))),ce(),e.filterable&&!e.multiple&&(t.inputLength=20),!Lt(l,o)&&e.validateEvent&&(W==null||W.validate("change").catch(a=>Kt()))},{flush:"post",deep:!0}),F(()=>t.visible,l=>{var o,a,u,L,w;l?((a=(o=r.value)==null?void 0:o.updatePopper)==null||a.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(L=(u=v.value)==null?void 0:u.focus)==null||L.call(u),e.multiple?(w=i.value)==null||w.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),j(t.query),!e.multiple&&!e.remote&&(T.value.query="",ge(T),ge(M)))):(e.filterable&&(ne(e.filterMethod)&&e.filterMethod(""),ne(e.remoteMethod)&&e.remoteMethod("")),i.value&&i.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,Ke(),B(()=>{i.value&&i.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),s.emit("visible-change",l)}),F(()=>t.options.entries(),()=>{var l,o,a;if(!wt)return;(o=(l=r.value)==null?void 0:l.updatePopper)==null||o.call(l),e.multiple&&K();const u=((a=h.value)==null?void 0:a.querySelectorAll("input"))||[];Array.from(u).includes(document.activeElement)||ce(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&xe()},{flush:"post"}),F(()=>t.hoverIndex,l=>{el(l)&&l>-1?x.value=E.value[l]||{}:x.value={},E.value.forEach(o=>{o.hover=x.value===o})});const K=()=>{B(()=>{var l,o;if(!c.value)return;const a=c.value.$el.querySelector("input");m=m||(a.clientHeight>0?a.clientHeight+2:0);const u=C.value,L=il(ae.value||(S==null?void 0:S.size)),w=L===m||m<=0?L:m;a.offsetParent!==null&&(a.style.height=`${(t.selected.length===0?w:Math.max(u?u.clientHeight+(u.clientHeight>w?6:0):0,w))-2}px`),t.tagInMultiLine=Number.parseFloat(a.style.height)>=w,t.visible&&pe.value!==!1&&((o=(l=r.value)==null?void 0:l.updatePopper)==null||o.call(l))})},j=async l=>{if(!(t.previousQuery===l||t.isOnComposition)){if(t.previousQuery===null&&(ne(e.filterMethod)||ne(e.remoteMethod))){t.previousQuery=l;return}t.previousQuery=l,B(()=>{var o,a;t.visible&&((a=(o=r.value)==null?void 0:o.updatePopper)==null||a.call(o))}),t.hoverIndex=-1,e.multiple&&e.filterable&&B(()=>{const o=i.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,o):o,Oe(),K()}),e.remote&&ne(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(l)):ne(e.filterMethod)?(e.filterMethod(l),ge(M)):(t.filteredOptionsCount=t.optionsCount,T.value.query=l,ge(T),ge(M)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await B(),xe())}},Oe=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=i.value.value?"":t.cachedPlaceHolder)},xe=()=>{const l=E.value.filter(u=>u.visible&&!u.disabled&&!u.states.groupDisabled),o=l.find(u=>u.created),a=l[0];t.hoverIndex=we(E.value,o||a)},ce=()=>{var l;if(e.multiple)t.selectedLabel="";else{const a=Le(e.modelValue);(l=a.props)!=null&&l.created?(t.createdLabel=a.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=a.currentLabel,t.selected=a,e.filterable&&(t.query=t.selectedLabel);return}const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(a=>{o.push(Le(a))}),t.selected=o,B(()=>{K()})},Le=l=>{let o;const a=dt(l).toLowerCase()==="object",u=dt(l).toLowerCase()==="null",L=dt(l).toLowerCase()==="undefined";for(let Q=t.cachedOptions.size-1;Q>=0;Q--){const A=We.value[Q];if(a?$(A.value,e.valueKey)===$(l,e.valueKey):A.value===l){o={value:l,currentLabel:A.currentLabel,isDisabled:A.isDisabled};break}}if(o)return o;const w=a?l.label:!u&&!L?l:"",R={value:l,currentLabel:w};return e.multiple&&(R.hitState=!1),R},Ke=()=>{setTimeout(()=>{const l=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(o=>E.value.findIndex(a=>$(a,l)===$(o,l)))):t.hoverIndex=-1:t.hoverIndex=E.value.findIndex(o=>ue(o)===ue(t.selected))},300)},_e=()=>{var l,o;Re(),(o=(l=r.value)==null?void 0:l.updatePopper)==null||o.call(l),e.multiple&&K()},Re=()=>{var l;t.inputWidth=(l=c.value)==null?void 0:l.$el.offsetWidth},Qe=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,j(t.query))},Ne=Tt(()=>{Qe()},Se.value),je=Tt(l=>{j(l.target.value)},Se.value),te=l=>{Lt(e.modelValue,l)||s.emit(xt,l)},ie=l=>{if(l.target.value.length<=0&&!he()){const o=e.modelValue.slice();o.pop(),s.emit(ee,o),te(o)}l.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)},Ge=(l,o)=>{const a=t.selected.indexOf(o);if(a>-1&&!N.value){const u=e.modelValue.slice();u.splice(a,1),s.emit(ee,u),te(u),s.emit("remove-tag",o.value)}l.stopPropagation()},Te=l=>{l.stopPropagation();const o=e.multiple?[]:"";if(!yt(o))for(const a of t.selected)a.isDisabled&&o.push(a.value);s.emit(ee,o),te(o),t.hoverIndex=-1,t.visible=!1,s.emit("clear")},de=(l,o)=>{var a;if(e.multiple){const u=(e.modelValue||[]).slice(),L=we(u,l.value);L>-1?u.splice(L,1):(e.multipleLimit<=0||u.length<e.multipleLimit)&&u.push(l.value),s.emit(ee,u),te(u),l.created&&(t.query="",j(""),t.inputLength=20),e.filterable&&((a=i.value)==null||a.focus())}else s.emit(ee,l.value),te(l.value),t.visible=!1;t.isSilentBlur=o,ve(),!t.visible&&B(()=>{re(l)})},we=(l=[],o)=>{if(!bt(o))return l.indexOf(o);const a=e.valueKey;let u=-1;return l.some((L,w)=>Pe($(L,a))===$(o,a)?(u=w,!0):!1),u},ve=()=>{t.softFocus=!0;const l=i.value||c.value;l&&(l==null||l.focus())},re=l=>{var o,a,u,L,w;const R=Array.isArray(l)?l[0]:l;let Q=null;if(R!=null&&R.value){const A=E.value.filter(at=>at.value===R.value);A.length>0&&(Q=A[0].$el)}if(r.value&&Q){const A=(L=(u=(a=(o=r.value)==null?void 0:o.popperRef)==null?void 0:a.contentRef)==null?void 0:u.querySelector)==null?void 0:L.call(u,`.${p.be("dropdown","wrap")}`);A&&al(A,Q)}(w=y.value)==null||w.handleScroll()},Ue=l=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(l.value,l),t.cachedOptions.set(l.value,l)},Je=(l,o)=>{t.options.get(l)===o&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(l))},Xe=l=>{l.code!==_t.backspace&&he(!1),t.inputLength=i.value.value.length*15+20,K()},he=l=>{if(!Array.isArray(t.selected))return;const o=t.selected[t.selected.length-1];if(o)return l===!0||l===!1?(o.hitState=l,l):(o.hitState=!o.hitState,o.hitState)},Ye=l=>{const o=l.target.value;if(l.type==="compositionend")t.isOnComposition=!1,B(()=>j(o));else{const a=o[o.length-1]||"";t.isOnComposition=!Ut(a)}},Ze=()=>{B(()=>re(t.selected))},et=l=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),s.emit("focus",l))},G=()=>{var l,o,a;t.visible=!1,(l=c.value)==null||l.blur(),(a=(o=v.value)==null?void 0:o.blur)==null||a.call(o)},Ie=l=>{B(()=>{t.isSilentBlur?t.isSilentBlur=!1:s.emit("blur",l)}),t.softFocus=!1},tt=l=>{Te(l)},ke=()=>{t.visible=!1},lt=l=>{t.visible&&(l.preventDefault(),l.stopPropagation(),t.visible=!1)},Me=l=>{var o;l&&!t.mouseEnter||N.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!r.value||!r.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((o=i.value||c.value)==null||o.focus()))},ot=()=>{t.visible?E.value[t.hoverIndex]&&de(E.value[t.hoverIndex],void 0):Me()},ue=l=>bt(l.value)?$(l.value,e.valueKey):l.value,nt=f(()=>E.value.filter(l=>l.visible).every(l=>l.disabled)),st=f(()=>t.selected.slice(0,e.maxCollapseTags)),fe=f(()=>t.selected.slice(e.maxCollapseTags)),Ee=l=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!nt.value){l==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):l==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const o=E.value[t.hoverIndex];(o.disabled===!0||o.states.groupDisabled===!0||!o.visible)&&Ee(l),B(()=>re(x.value))}};return{optionList:n,optionsArray:E,selectSize:ae,handleResize:_e,debouncedOnInputChange:Ne,debouncedQueryChange:je,deletePrevTag:ie,deleteTag:Ge,deleteSelected:Te,handleOptionSelect:de,scrollToOption:re,readonly:ye,resetInputHeight:K,showClose:qe,iconComponent:Ce,iconReverse:De,showNewOption:Fe,collapseTagSize:He,setSelected:ce,managePlaceholder:Oe,selectDisabled:N,emptyText:pe,toggleLastOptionHitState:he,resetInputState:Xe,handleComposition:Ye,onOptionCreate:Ue,onOptionDestroy:Je,handleMenuEnter:Ze,handleFocus:et,blur:G,handleBlur:Ie,handleClearClick:tt,handleClose:ke,handleKeydownEscape:lt,toggleMenu:Me,selectOption:ot,getValueKey:ue,navigateOptions:Ee,dropMenuVisible:$e,queryChange:T,groupQueryChange:M,showTagList:st,collapseTagList:fe,reference:c,input:i,iOSInput:v,tooltipRef:r,tags:C,selectWrapper:h,scrollbar:y,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var xl=oe({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:s}){let d=[];function p(c,i){if(c.length!==i.length)return!1;for(const[v]of c.entries())if(c[v]!=i[v])return!1;return!0}return()=>{var c,i;const v=(c=t.default)==null?void 0:c.call(t),r=[];function C(h){Array.isArray(h)&&h.forEach(y=>{var x,T,M,n;const m=(x=(y==null?void 0:y.type)||{})==null?void 0:x.name;m==="ElOptionGroup"?C(!yt(y.children)&&!Array.isArray(y.children)&&ne((T=y.children)==null?void 0:T.default)?(M=y.children)==null?void 0:M.default():y.children):m==="ElOption"?r.push((n=y.props)==null?void 0:n.label):Array.isArray(y.children)&&C(y.children)})}return v.length&&C((i=v[0])==null?void 0:i.children),p(r,d)||(d=r,s("update-options",r)),v}}});const At="ElSelect",Ll=oe({name:At,componentName:At,components:{ElInput:Jt,ElSelectMenu:Cl,ElOption:mt,ElOptions:xl,ElTag:hl,ElScrollbar:Rt,ElTooltip:Qt,ElIcon:ft},directives:{ClickOutside:Nt},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:rl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:jt.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Pt,default:tl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Pt,default:ll},tagType:{...Bt.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Gt,default:"bottom-start"}},emits:[ee,xt,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const s=se("select"),d=se("input"),{t:p}=ht(),c=Sl(e),{optionList:i,optionsArray:v,selectSize:r,readonly:C,handleResize:h,collapseTagSize:y,debouncedOnInputChange:x,debouncedQueryChange:T,deletePrevTag:M,deleteTag:n,deleteSelected:m,handleOptionSelect:S,scrollToOption:W,setSelected:ye,resetInputHeight:N,managePlaceholder:qe,showClose:Ce,selectDisabled:De,iconComponent:Se,iconReverse:pe,showNewOption:E,emptyText:We,toggleLastOptionHitState:Fe,resetInputState:ae,handleComposition:He,onOptionCreate:$e,onOptionDestroy:K,handleMenuEnter:j,handleFocus:Oe,blur:xe,handleBlur:ce,handleClearClick:Le,handleClose:Ke,handleKeydownEscape:_e,toggleMenu:Re,selectOption:Qe,getValueKey:Ne,navigateOptions:je,dropMenuVisible:te,reference:ie,input:Ge,iOSInput:Te,tooltipRef:de,tags:we,selectWrapper:ve,scrollbar:re,queryChange:Ue,groupQueryChange:Je,handleMouseEnter:Xe,handleMouseLeave:he,showTagList:Ye,collapseTagList:Ze}=Ol(e,c,t),{focus:et}=ul(ie),{inputWidth:G,selected:Ie,inputLength:tt,filteredOptionsCount:ke,visible:lt,softFocus:Me,selectedLabel:ot,hoverIndex:ue,query:nt,inputHovering:st,currentPlaceholder:fe,menuVisibleOnFocus:Ee,isOnComposition:l,isSilentBlur:o,options:a,cachedOptions:u,optionsCount:L,prefixWidth:w,tagInMultiLine:R}=ut(c),Q=f(()=>{const q=[s.b()],le=I(r);return le&&q.push(s.m(le)),e.disabled&&q.push(s.m("disabled")),q}),A=f(()=>({maxWidth:`${I(G)-32}px`,width:"100%"})),at=f(()=>({maxWidth:`${I(G)>123?I(G)-123:I(G)-75}px`}));Ct(Ae,Be({props:e,options:a,optionsArray:v,cachedOptions:u,optionsCount:L,filteredOptionsCount:ke,hoverIndex:ue,handleOptionSelect:S,onOptionCreate:$e,onOptionDestroy:K,selectWrapper:ve,selected:Ie,setSelected:ye,queryChange:Ue,groupQueryChange:Je})),ct(()=>{c.cachedPlaceHolder=fe.value=e.placeholder||(()=>p("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(fe.value=""),Ot(ve,h),e.remote&&e.multiple&&N(),B(()=>{const q=ie.value&&ie.value.$el;if(q&&(G.value=q.getBoundingClientRect().width,t.slots.prefix)){const le=q.querySelector(`.${d.e("prefix")}`);w.value=Math.max(le.getBoundingClientRect().width+5,30)}}),ye()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(ee,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(ee,"");const Dt=f(()=>{var q,le;return(le=(q=de.value)==null?void 0:q.popperRef)==null?void 0:le.contentRef});return{isIOS:ol,onOptionsRendered:q=>{i.value=q},tagInMultiLine:R,prefixWidth:w,selectSize:r,readonly:C,handleResize:h,collapseTagSize:y,debouncedOnInputChange:x,debouncedQueryChange:T,deletePrevTag:M,deleteTag:n,deleteSelected:m,handleOptionSelect:S,scrollToOption:W,inputWidth:G,selected:Ie,inputLength:tt,filteredOptionsCount:ke,visible:lt,softFocus:Me,selectedLabel:ot,hoverIndex:ue,query:nt,inputHovering:st,currentPlaceholder:fe,menuVisibleOnFocus:Ee,isOnComposition:l,isSilentBlur:o,options:a,resetInputHeight:N,managePlaceholder:qe,showClose:Ce,selectDisabled:De,iconComponent:Se,iconReverse:pe,showNewOption:E,emptyText:We,toggleLastOptionHitState:Fe,resetInputState:ae,handleComposition:He,handleMenuEnter:j,handleFocus:Oe,blur:xe,handleBlur:ce,handleClearClick:Le,handleClose:Ke,handleKeydownEscape:_e,toggleMenu:Re,selectOption:Qe,getValueKey:Ne,navigateOptions:je,dropMenuVisible:te,focus:et,reference:ie,input:Ge,iOSInput:Te,tooltipRef:de,popperPaneRef:Dt,tags:we,selectWrapper:ve,scrollbar:re,wrapperKls:Q,selectTagsStyle:A,nsSelect:s,tagTextStyle:at,handleMouseEnter:Xe,handleMouseLeave:he,showTagList:Ye,collapseTagList:Ze}}}),Tl=["disabled","autocomplete"],wl=["disabled"],Il={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function kl(e,t,s,d,p,c){const i=Z("el-tag"),v=Z("el-tooltip"),r=Z("el-icon"),C=Z("el-input"),h=Z("el-option"),y=Z("el-options"),x=Z("el-scrollbar"),T=Z("el-select-menu"),M=Ft("click-outside");return me((g(),V("div",{ref:"selectWrapper",class:b(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...n)=>e.handleMouseEnter&&e.handleMouseEnter(...n)),onMouseleave:t[22]||(t[22]=(...n)=>e.handleMouseLeave&&e.handleMouseLeave(...n)),onClick:t[23]||(t[23]=_((...n)=>e.toggleMenu&&e.toggleMenu(...n),["stop"]))},[J(v,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:O(()=>[k("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=n=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=n=>e.inputHovering=!1)},[e.multiple?(g(),V("div",{key:0,ref:"tags",class:b(e.nsSelect.e("tags")),style:X(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(g(),P(it,{key:0,onAfterLeave:e.resetInputHeight},{default:O(()=>[k("span",{class:b([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(g(!0),V(ze,null,vt(e.showTagList,n=>(g(),P(i,{key:e.getValueKey(n),closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",onClose:m=>e.deleteTag(m,n)},{default:O(()=>[k("span",{class:b(e.nsSelect.e("tags-text")),style:X(e.tagTextStyle)},Y(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(g(),P(i,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:O(()=>[e.collapseTagsTooltip?(g(),P(v,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:O(()=>[k("span",{class:b(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-e.maxCollapseTags),3)]),content:O(()=>[k("div",{class:b(e.nsSelect.e("collapse-tags"))},[(g(!0),V(ze,null,vt(e.collapseTagList,n=>(g(),V("div",{key:e.getValueKey(n),class:b(e.nsSelect.e("collapse-tag"))},[J(i,{class:"in-tooltip",closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:m=>e.deleteTag(m,n)},{default:O(()=>[k("span",{class:b(e.nsSelect.e("tags-text")),style:X({maxWidth:e.inputWidth-75+"px"})},Y(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(g(),V("span",{key:1,class:b(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):z("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):z("v-if",!0),e.collapseTags?z("v-if",!0):(g(),P(it,{key:1,onAfterLeave:e.resetInputHeight},{default:O(()=>[k("span",{class:b([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(g(!0),V(ze,null,vt(e.selected,n=>(g(),P(i,{key:e.getValueKey(n),closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",onClose:m=>e.deleteTag(m,n)},{default:O(()=>[k("span",{class:b(e.nsSelect.e("tags-text")),style:X({maxWidth:e.inputWidth-75+"px"})},Y(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?me((g(),V("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=n=>e.query=n),type:"text",class:b([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:X({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:t[2]||(t[2]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onKeyup:t[3]||(t[3]=(...n)=>e.managePlaceholder&&e.managePlaceholder(...n)),onKeydown:[t[4]||(t[4]=(...n)=>e.resetInputState&&e.resetInputState(...n)),t[5]||(t[5]=H(_(n=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=H(_(n=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=H((...n)=>e.handleKeydownEscape&&e.handleKeydownEscape(...n),["esc"])),t[8]||(t[8]=H(_((...n)=>e.selectOption&&e.selectOption(...n),["stop","prevent"]),["enter"])),t[9]||(t[9]=H((...n)=>e.deletePrevTag&&e.deletePrevTag(...n),["delete"])),t[10]||(t[10]=H(n=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionupdate:t[12]||(t[12]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionend:t[13]||(t[13]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onInput:t[14]||(t[14]=(...n)=>e.debouncedQueryChange&&e.debouncedQueryChange(...n))},null,46,Tl)),[[Ht,e.query]]):z("v-if",!0)],6)):z("v-if",!0),z(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(g(),V("input",{key:1,ref:"iOSInput",class:b([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,wl)):z("v-if",!0),J(C,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=n=>e.selectedLabel=n),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:b([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=H(_(n=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=H(_(n=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),H(_(e.selectOption,["stop","prevent"]),["enter"]),H(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=H(n=>e.visible=!1,["tab"]))]},$t({suffix:O(()=>[e.iconComponent&&!e.showClose?(g(),P(r,{key:0,class:b([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:O(()=>[(g(),P(St(e.iconComponent)))]),_:1},8,["class"])):z("v-if",!0),e.showClose&&e.clearIcon?(g(),P(r,{key:1,class:b([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:O(()=>[(g(),P(St(e.clearIcon)))]),_:1},8,["class","onClick"])):z("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:O(()=>[k("div",Il,[U(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:O(()=>[J(T,null,{default:O(()=>[me(J(x,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:b([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:O(()=>[e.showNewOption?(g(),P(h,{key:0,value:e.query,created:!0},null,8,["value"])):z("v-if",!0),J(y,{onUpdateOptions:e.onOptionsRendered},{default:O(()=>[U(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[pt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(g(),V(ze,{key:0},[e.$slots.empty?U(e.$slots,"empty",{key:0}):(g(),V("p",{key:1,class:b(e.nsSelect.be("dropdown","empty"))},Y(e.emptyText),3))],64)):z("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[M,e.handleClose,e.popperPaneRef]])}var Ml=be(Ll,[["render",kl],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const El=oe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=se("select"),s=D(!0),d=rt(),p=D([]);Ct(zt,Be({...ut(e)}));const c=Ve(Ae);ct(()=>{p.value=i(d.subTree)});const i=r=>{const C=[];return Array.isArray(r.children)&&r.children.forEach(h=>{var y;h.type&&h.type.name==="ElOption"&&h.component&&h.component.proxy?C.push(h.component.proxy):(y=h.children)!=null&&y.length&&C.push(...i(h))}),C},{groupQueryChange:v}=Pe(c);return F(v,()=>{s.value=p.value.some(r=>r.visible===!0)},{flush:"post"}),{visible:s,ns:t}}});function Vl(e,t,s,d,p,c){return me((g(),V("ul",{class:b(e.ns.be("group","wrap"))},[k("li",{class:b(e.ns.be("group","title"))},Y(e.label),3),k("li",null,[k("ul",{class:b(e.ns.b("group"))},[U(e.$slots,"default")],2)])],2)),[[pt,e.visible]])}var qt=be(El,[["render",Vl],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Pl=Et(Ml,{Option:mt,OptionGroup:qt}),Bl=Vt(mt);Vt(qt);export{Pl as E,Bl as a};
